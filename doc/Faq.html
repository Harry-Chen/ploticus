<html>
<head>
<!-- This file has been generated by unroff 1.0, 03/01/02 08:56:46. -->
<!-- Do not edit! -->
<STYLE TYPE="text/css">
<!--
        A:link{text-decoration:none}
        A:visited{text-decoration:none}
        A:active{text-decoration:none}
-->
</STYLE>
<title>ploticus: frequently asked questions</title>
<body bgcolor=D0D0EE vlink=0000FF>
<br>
<br>
<center>
<table cellpadding=2 bgcolor=FFFFFF width=550 ><tr>
<td>
  <table cellpadding=2 width=550><tr>
  <td><br><h2>Frequently Asked Questions</h2></td>
  <td align=right>
  <small>
  <a href="../doc/Welcome.html"><img src="../doc/ploticus.gif" border=0></a><br>
  <a href="../doc/Welcome.html">Welcome</a> &nbsp; &nbsp;
  <a href="../gallery/index.html">Gallery</a> &nbsp; &nbsp;
  <a href="../doc/Contents.html">Handbook</a> 
  <td></tr></table>
</td></tr>
<td>
<br>
<br>

<title>Manual page for Frequently_Asked_Questions(PL)</title>
</head>
<body>
 

<h2>FAQ</h2>
Frequently asked questions about ploticus.  If you don't see it here,
just ask (<tt>scg@jax.org</tt>).<tt> </tt>

<p>
<b>Where can I get </b><b>ploticus</b>?<tt> </tt>
<dl>
<dt><dd><p>
<b>ploticus.sourceforge.net</b> 

</dl>
<p>
<b>Where can I report problems or get help?</b>
<dl>
<dt><dd><p>
See the
<a href="../doc/Problems.html">
 Troubleshooting and bug reports page
</a>

</dl>
<p>
<b>What computing environments are supported?</b>
<dl>
<dt><dd><p>
Most unix platforms and win32.<tt> </tt>


</dl>
<p>
<b>How many users are there?</b>
<dl>
<dt><dd><p>
Some users who have written in are present on the
<a href="../doc/Feedback.html">
 current
</a>
or
<a href="../doc/Feedback00.html">
 earlier
</a>
user feedback pages.<tt> </tt>


</dl>
<p>
<b>What is the easiest way to get started?</b>
<dl>
<dt><dd><p>
<a href="../doc/Download.html">
 Download
</a>
the software.  Then,
see of one of the 
<a href="prefabs.html">
 available prefabs
</a>
is close to what you want.<tt> </tt>
When a prefab is used, all that needs to be specified
by the user are several key parameters.  
<dt><dd><p>
For more flexibility and power, you can develop your own
<a href="scripts.html">
 ploticus scripts
</a>


</dl>
<p>
<b>Can you add a search engine to the web site?  It is difficult to sift through
all the examples and handbook sections.</b> 
<dl>
<dt><dd><p>
For now, I would recommend
downloading the entire doc node including gallery examples
and handbook.  Then you can search and peruse all of the material locally
using "grep" or however you prefer to do it.<tt> </tt>


</dl>
<p>
<b>Can I use ploticus as part of a commercial package or service?</b>
<dl>
<dt><dd><p>
This is possible.  
Please see the 
<a href="../doc/Copyright.html">
 copyright page
</a>

</dl>
<p>
<b>I need a customized plot.   If I am coding a script from scratch, what is the 
bare minimum of code I need?</b>
<dl>
<dt><dd><p>
If starting from scratch, just remember that in order to
do a plot you need data (#proc getdata) a plotting area
(#proc areadef) with the X and Y ranges defined, and a
plotting proc such as #proc bars.  The plotting proc usually
requires that a data field be given.  Other parameters will
use defaults.<tt> </tt>


</dl>
<p>
<b>Why would I want to use ploticus rather than a MainStream
desktop spreadsheet / charting package / slides package 
to create graphs?<tt> </tt>
Or, how does ploticus compare with other freeware plotting/charting packages?</b>
<dl>
<dt><dd><p>
Here is a list of some
<a href="../doc/Faq.other.html">
 other plotting packages
</a>
(thanks to Arthur Ferruzzi).<tt> </tt>
<dt><dd><p>
Ploticus is driven by commands or scripts, which makes it suitable for automated, 
unattended uses, or for applications that will be run again and again.<tt> </tt>
Ploticus might be your choice for stylistic reasons or just
because it suits the problem or application.<tt> </tt>
In general, ploticus is good at making graphs like you would see in
newspapers and news magazines, business publications,
journals for medical and social sciences, and so on.<tt> </tt>
<dt><dd><p>
You can also use Ploticus in combination with standard desktop tools, e.g.<tt> </tt>
generate data displays using <b>ploticus</b> then import SVG or PNG into PowerPoint,
Word, etc.)
<dt><dd><p>
Ploticus is not a function or mathematical plotting package like gnuplot, nor would it
be a good choice for applications where mathematical formulas or scientific 
notations are to be rendered as an integral part of the data display.<tt> </tt>
Ploticus is also not intended as a "marketing" graphics package.<tt> </tt>
Its goal is to display data crisply without extra decoration
and distracting "dingbats" that cloud the picture.<tt> </tt>
Thus there is little support for 3-D effects, 
gradient backgrounds, and so on.  


</dl>
<p>
<b>What does ploticus include?</b>
<dl>
<dt><dd><p>
The primary element is the 
<a href="pl.1.html">
 pl program.<tt> </tt>
</a>
You also get the standard collection of prefab scripts
and complete documentation.<tt> </tt>
The gallery of examples is also available.<tt> </tt>

</dl>
<p>
<b>What does the pl program do?</b>
<dl>
<dt><dd><p>
<a href="pl.1.html">
 pl
</a>
generates plots and graphs, and creates image files, or postscript files,
or displays the graphs interactively on X11.<tt> </tt>
There are two basic modes of operation:  1) use one of the available
<a href="prefabs.html">
 prefabs
</a>
and supply key parameters on the command line, or
2) supply a custom-written
<a href="scripts.html">
 script.<tt> </tt>
</a>


</dl>
<p>
<b>The name 'pl' conflicts with that of my prolog interpreter.  
Also the file name extension .pl is easy to confuse with 'perl'.</b>
<dl>
<dt><dd><p>
Please feel free to rename the executables as appropriate for your system.<tt> </tt>
Ploticus is "aware" of the following file name extensions that may be used for 
ploticus scripts: .pl .p .pls .htm .html.  
"Aware" means that if no output file name is specified (-o) 
ploticus can strip off the extension and tack on .png, .gif, .eps, etc. to make
the output file name.  Otherwise out.png (etc.) will be used as a fallback.<tt> </tt>

</dl>
<p>
<b>Can I invoke ploticus from C/C++/Perl/etc?</b>
<dl>
<dt><dd><p>
Currently the best way is to invoke pl using <tt>system()</tt> or something similar.<tt> </tt>

</dl>
<p>
<b>How can I use ploticus from a CGI?</b>
<dl>
<dt><dd><p>
You can invoke pl directly as a CGI program.<tt> </tt>
<a href="cgi.html">
 Here's how to do it.<tt> </tt>
</a>
An alternative strategy is to
1) generate a unique temp file name; 2) invoke ploticus via shell or system()
and build a PNG or GIF file using the unique name; 3) reference that file in an &lt;IMG&gt; tag;
4) clean up temp PNG / GIF files regularly using a find command run by cron.<tt> </tt>


</dl>
<p>
<b>I have a program that generates a stream of
X Y coordinates to create a special display.  How can I
display my results via Ploticus?</b>
<dl>
<dt><dd><p>
<b>Proc Drawcommands</b> may be used, assuming you can adjust
or post-process your program's output to conform to the Drawcommands 
command set.<tt> </tt>

</dl>
<p>
<b>Do I have to learn the script language?</b>
<dl>
<dt><dd><p>
You do not, if you can get by with just the
<a href="prefabs.html">
 prefabs
</a>
 .  For more customization and flexibility you can write scripts
and then you do need to become familiar with the script language.<tt> </tt>
Fortunately, it is a goal-driven specifications language
rather than a purely procedural one.  As with many 
tools of this type, the best way to operate may be to
copy an existing script and modify it to suit.<tt> </tt>
The web-based handbook may be navigated quickly to find 
the names and uses of the various attributes.<tt> </tt>
And, as mentioned above, if you use Ploticus much you might
benefit from downloading the entire docs/examples node
for easier searching and perusal.<tt> </tt>


</dl>
<p>
<b>What graphics file formats can be created?</b>
<dl>
<dt><dd><p>
You can create PNG or GIF images (typically used in web pages
and other software applications),
paginated PostScript files that can be printed,
and EPS files (for printing or import into other document).<tt> </tt>
You can optionally link against your own copy of
the GD library to get JPEG and WBMP.<tt> </tt>
Also,
<a href="svg.html">
 SVG
</a>
is supported in all builds.<tt> </tt>
You can also view graphics interactively on an X11 display.<tt> </tt>


</dl>
<p>
<b>What plot data formats are accepted?</b>
<dl>
<dt><dd><p>
See
<a href="dataformat.html">
 data formats.<tt> </tt>
</a>


</dl>
<p>
<b>Why can't I use pl to compose charts and graphs interactively?</b>
<dl>
<dt><dd><p>
The main thrust has been to develop an engine
that can produce graphics non-interactively, so that
it can be run in an automated, unattended way.<tt> </tt>


</dl>
<p>
<b>Are any statistical capabilities included?</b>
<dl>
<dt><dd><p>
There is a built-in facility (proc tabulate) for computing frequency
distributions.  Means, medians, quartiles, standard deviations, etc. may
be computed using proc rangebar.  Proc curvefit can compute linear
regression curve and Pearson correlation coefficient <i>r</i>.<tt> </tt>


</dl>
<p>
<b>How can I render a proper less-than-or-equal-to symbol, Portugese
characters, or other special symbols?</b>
<dl>
<dt><dd><p>
This is now described
<a href="fonts.html">
 here
</a>


</dl>
<p>
<b>I would like dates to use the German month abbreviations rather
than the English.</b>
<dl>
<dt><dd><p>
See
<a href="settings.html">
 proc settings
</a>
or
<a href="config.html">
 config files.<tt> </tt>
</a>


</dl>
<p>
<b>Is there any way to get thousands separators so that large numbers are 
more readable e.g. 3,024,582? 
Also, I would prefer European style display of numbers, e.g. comma used as
the decimal point, and period (.) used as the thousands separator.</b>
See
<a href="settings.html">
 proc settings
</a>
or
<a href="config.html">
 config files.<tt> </tt>
</a>


<p>
<b>What about large data sets?</b>
<dl>
<dt><dd><p>
The 
<a href="limits.html">
 capacities
</a>
are fairly large.  If your data set is too large, you may be able to 
use the <tt>select</tt> or
<tt>filter</tt> attributes of <b>proc getdata</b> to pair down the size.<tt> </tt>
<tt>select</tt> will select only certain records; <tt>filter</tt> may be used to
keep only certain fields.<tt> </tt>


</dl>
<p>
<b>Can I import the graphs into PowerPoint?</b>
<dl>
<dt><dd><p>
Yes.  
PNG and GIF files may be inserted as pictures with PowerPoint.<tt> </tt>
SVG has a bright future as a portable and scalable graphic format.<tt> </tt>
EPS files may be used with PowerPoint if the result will be
rendered on a PostScript film imager.<tt> </tt>


</dl>
<p>
<b>How can I view PNG or GIF files that I generate?</b>
<dl>
<dt><dd><p>
You can view them with a locally-running web browser if you
use a URL beginning with <tt>file:///</tt>, for example, 
<tt>file:///export/home/steve/plot.gif</tt> (note that there are
three slashes, two for the URL syntax and one representing the
root of the file system).  You can also
use an image viewing utility such as the publicly available 
<b>xv</b> package to view images locally.<tt> </tt>
You can have ploticus invoke xv automatically to display
your results using <tt>-viewer xv</tt> on the command line.<tt> </tt>
<dt><dd><p>
Note that old versions of browsers and image viewing
tools may not support PNG.<tt> </tt>
<a href="http://www.libpng.org/pub/png/pngapvw.html">
 Here's a list of PNG viewers
</a>


</dl>
<p>
<b>How can I enlarge or reduce my results?</b>
<dl>
<dt><dd><p>
Use the <b>-scale</b> command line option.<tt> </tt>

</dl>
<p>
<b>How can I make thumbnails?</b>
<dl>
<dt><dd><p>
Just use a small scale factor, such as <b>-scale 0.3</b>.<tt> </tt>
Very small text is rendered as lines automatically.<tt> </tt>

</dl>
<p>
<b>How can I crop my results?</b>
<dl>
<dt><dd><p>
Use one of the <b>-crop</b>, <b>-croprel</b> or <b>-tightcrop</b> command line options.<tt> </tt>

</dl>
<p>
<b>-tightcrop is close to what I want but it is cropping too closely on one side.</b>
<dl>
<dt><dd><p>
Try <b>-croprel</b>.<tt> </tt>

</dl>
<p>
<b>I am trying to make a fairly large GIF file (12" wide by
4" high).  The rightmost portions of the result are cut off.<tt> </tt>
Is this a bug?</b>
<dl>
<dt><dd><p>
It is not really a bug but not quite ideal in the
way that it is handled..  The default output size is 8" x 8". 
If doing X11, PNG or GIF and your desired output 
exceeds either of these dimensions
you should specify -pagesize on the command line, or pagesize in proc page,
and give a big enough area to fit the entire result.<tt> </tt>


</dl>
<p>
<b>Why is garbage being displayed at the end of my title?</b>
<dl>
<dt><dd><p>
Attributes that are multi-line need to be terminated with a blank
line.  Perhaps the blank line was left out.<tt> </tt>

</dl>
<p>
<b>I have changed an attribute value but nothing happens.</b>
<dl>
<dt><dd><p>
If the attribute in question follows a multi-line attribute,
you may have forgotten to terminate the multi-line attribute
with a blank line.<tt> </tt>

</dl>
<p>
<b>Is there any way for a single-line attribute such as
proc getdata's 'fieldnames' to be expressed in multiple lines?</b>
<dl>
<dt><dd><p>
Not currently.  Only "multiline text" attributes may occupy multiple lines,
and they must be terminated by a blank line.<tt> </tt>
All other attributes must be contained within a single line of text.<tt> </tt>

</dl>
<p>
<b>Something in my script does not seem to be working.  
See a fragment below....</b>
<dl>
<dt><dd><p>
<pre>
 #proc getdata
 file: myfile.dat
 
 #if @NRECORDS = 0
   #exit
 #endif
 
 #proc bars..
   ..etc..
</pre>
<tt></tt></dl>
<p>
<b>....... I know that my datafile indeed has many records of data in it, however,
the script always exits without plotting any bars.</b>
<dl>
<dt><dd><p>
The problem here is a nuance/glitch and has to do with the way that ploticus scripts
are parsed.<tt> </tt>
Variables, such as NRECORDS in your case, that are set within a proc do not become available
to the script until the proc is finished.  Procs are delineated
by <b>#proc</b> statements.  Thus, what happened is that ploticus didn't
realize that you were finished with your proc getdata when the #if came along,
and at that time NRECORDS was still zero.<tt> </tt>
<dt><dd><p>
To solve this, insert a <tt>#proc endproc</tt> statement immediately before the #if statement.<tt> </tt>
It should be used in any situation where an #if or #set statement will use variables set by 
the previous proc.<tt> </tt>
#proc endproc is really just a do-nothing marker and does not need to be used routinely 
all the time.  I still trip up on this one occasionally -SG

</dl>
<p>
<b>What are #clone and #saveas and how do they work?</b>
<dl>
<dt><dd><p>
<b>#clone</b> and <b>#saveas</b> are used
when doing several similar plots, such as a set of four
bar graphs that have the same style.  <b>#saveas</b> saves
the attribute settings for one proc invocation.  <b>#clone</b>
uses a set of attribute settings that was saved earlier.<tt> </tt>
An example is
<a href="../gallery/volunteers.htm">
 volunteers.<tt> </tt>
</a>
See also the
<a href="../doc/scripts.html">
 script syntax description.<tt> </tt>
</a>

</dl>
<p>
<b>I have a graph where I set up the plotting area with procs 
areadef, yaxis, and two separate invocations of proc xaxis.  I
want to replicate this plotting area several times.  How do
I clone the plotting area?</b>
<dl>
<dt><dd><p>
You need to use #saveas within every proc that is involved (with
different instance names), and then use #clone all of the procs.<tt> </tt>
There is no way to clone a set of procs together in one operation.<tt> </tt>

</dl>
<p>
<b>Can I have 2 separate scatter plots
on the same plot area?  With 2 separate data sets, i.e. not
col1 = x, col2 = y, col3 = other-y, but "these coord pairs
are one kind of scatter dot, and this other completely
unrelated set are a different kind of scatter dot."</b>
<dl>
<dt><dd><p>
Yes, you do this by:
<pre>
 	#proc areadef
  	...
  
 	#proc getdata
 	file: data1
  
 	#proc scatterplot
  	...
  
 	#proc getdata
 	file: data2
  
 	#proc scatterplot
 	.. etc..
</pre>
The first areadef stays in effect until a new areadef is specified,
thus any number of plots may be rendered in the area.<tt> </tt>

</dl>
<p>
<b>Can I make a Y axis on the right edge of the plot rather than the left?</b>
<dl>
<dt><dd><p>
Yes, see gallery example 
<a href="../gallery/sa12.htm">
 sa12
</a>

</dl>
<p>
<b>Is it possible to overlay two coordinate systems on one plot?</b>
<dl>
<dt><dd><p>
Yes, see gallery example 
<a href="../gallery/sa13.htm">
 sa13
</a>
which overlays Celsius and Fahrenheit.<tt> </tt>

</dl>
<p>
<b>How can I have grid lines in orange every 0.1 unit, and then grid lines
in black every 1.0 unit?</b>
<dl>
<dt><dd><p>
Invoke #proc axis twice and overlay the two, to get more complex 
systems of grids, tics, and stubs.  See example
<a href="../gallery/sa14.htm">
 sa14
</a>
which does this.<tt> </tt>

</dl>
<p>
<b>An axis labelling question: my xrange goes from 0.5 to 12.  When I 
do stubs of "increment 1" they are drawn at 0.5, 1.5, 2.5, etc..  I want them to be
at 1.0, 2.0, etc.</b>
<dl>
<dt><dd><p>
Stub placement begins by default at the minima.  To override this, the stubrange
attribute can be used.  For your case, it would be: <tt>stubrange: 1.0</tt>

</dl>
<p>
<b>Is there a way to do a broken Y axis?</b>
<dl>
<dt><dd><p>
Yes, although broken axes cannot be done in an automated way.<tt> </tt>
See gallery example
<a href="../gallery/brokenaxis.html">
 brokenaxis
</a>
and the man page for
<a href="../doc/breakaxis.html">
 proc breakaxis
</a>

</dl>
<p>
<b>I am trying to do a plot where the X axis is dates expressed in quarter years
(quarters), to show quarterly results.  It is not coming out right.</b>
<dl>
<dt><dd><p>
It is a little bit tricky because data in quarter notation is converted
to a full date midpoint, so the X range needs to be expressed in a full date notation,
then you change units to quarter notation.  See the example
<a href="../gallery/quarters.htm">
 quarters
</a>
which illustrates.<tt> </tt>


</dl>
<p>
<b>Is there any way to make an axis progress from a large value to a small value?</b>
<dl>
<dt><dd><p>
Yes, although it is not entirely straighforward.<tt> </tt>
See gallery example
<a href="../gallery/hbars4.htm">
 hbars4
</a>
Ploticus is limited by its implementation in that it can only produce axes that run from a low value
to a higher value.  In order to "fool" it into going from high to low,
you must reverse the sign of your data values (proc getdata's filter attribute
might be used to do this), and define your plotting range accordingly.<tt> </tt>
Then you can use proc axis's reversesign option 
to present the axis stubs.<tt> </tt>


</dl>
<p>
<b>How can I make the Y axis of my plotting area automatically scaled to my data?</b>
<dl>
<dt><dd><p>
Use proc areadef's <tt>yautorange</tt> attribute.<tt> </tt>
This takes several sub-attributes, the most important of which is <tt>datafield=</tt><i>n</i>.<tt> </tt>

</dl>
<p>
<b>I am trying to set up an automated system that will generate a reasonable plot for 
any reasonable numeric data that gets thrown at it.  Areadef's xautorange and yautorange
get me part of the way there, but it appears I still need to specify the stub increment
and "autorange nearest" attributes manually, which has me stymied.</b>
<dl>
<dt><dd><p>
You can get a reasonable default stub increment for numeric data by stating:
<tt>stubs: inc</tt> or <tt>stubs: inc 0</tt>.<tt> </tt>
You can get a reasonable default "autorange nearest"
for numeric data by simply omitting the word "nearest" (the default used to
be to go to the exact minima and maxima; to do this you now need to state
"nearest=exact").<tt> </tt>


</dl>
<p>
<b>I want to plot my data in log-log
scale with an x-range from 0.1 to 100 and a yrange from 1 to 1000.<tt> </tt>
The trouble is that ploticus uses fixed tic increments by default.<tt> </tt>
This makes the tics pile together at the upper limits.  Is there an easy
way to produce tics with variable values, for example, the increment for
the range from 1 to 10 is 1, from 10 to 100 is 10, etc.?</b>
<dl>
<dt><dd><p>
You could use proc axis' <tt>selflocatingstubs</tt> attribute, which allows 
you to place the tics and/or stubs whereever you wish.  However it is 
not automatic.  An example is
<a href="../gallery/loglog.htm">
 loglog
</a>

</dl>
<p>
<b>I have large files containing dates and times of events.<tt> </tt>
I would like to plot them as histograms across time.<tt> </tt>
Some events happen concurrently (at the same time).<tt> </tt>
Thus I need to run a frequency distribution on the date and time,
however, proc tabulate has an upper limit of 200 unique instances.<tt> </tt>
Is there a way to do this?</b>
<dl>
<dt><dd><p>
Yes, use <b>proc processdata</b> with the <b>count</b> action.<tt> </tt>
Your data will have to be sorted (or at least grouped) so that
all like datetimes are together.  A gallery example where this 
is done is
<a href="../gallery/hitcount.htm">
 hitcount
</a>

</dl>
<p>
<b>I've been using ploticus off and on for about 2 months now.<tt> </tt>
Typically plotting statistical data from our ADSM backup
accounting log.  We are using this to trend growth and plan
expansion.  Recently some client or clients are out of
control and using too much space.  I would like to
graphically display the data...  Here's a slice of it....</b>
<dl>
<dt><dd><p>
<pre>
01/01/2000,BINC_MSN,6.321745
01/01/2000,LEUSDB01,15.896682
01/01/2000,MINERVA,15.880768
01/02/2000,HIGHSMITH1,22.693413
01/04/2000,MINERVA,16.165971
</pre>
</dl>
<p>
<b>...... As you can probably tell, date,client,datum.<tt> </tt>
<br>
I would like a stacked bar graph (x-axis = date) a different
color for each client and the height of the bar determined
by the 3rd field.  I can't figure out the color piece (there
are a total of 13 unique clients, not all appear each day).<tt> </tt>
Any help would be appreciated.</b>
<dl>
<dt><dd><p>
You can use proc tabulate with <tt>accumfield</tt>.<tt> </tt>
to tally up each user's number for each day, to produce a matrix
of numbers.  Then, these values are plotted.  It requires proc bars
to be invoked once for each user, so it is only practical if the
set of users is known in advance.<tt> </tt>


<a name=filter></a>
</dl>
<p>
<b>I have a data set with mm/dd/yyyy dates in field 2 and hh:mm times
in field 3.  How can I plot these using the datetime scaling type?</b>
<dl>
<dt><dd><p>
Ploticus datetime values have the form <i>date</i><b>.</b><i>time</i>.<tt> </tt>
The date and the time may in any of the supported notations.<tt> </tt>
The dot (.) separator is required.<tt> </tt>
You can use proc getdata's <tt>filter</tt> attribute to concatentate fields
2 and 3 like this:
<pre>
 	#proc getdata
 	file: mydata
 	filter: @@1 @@2.@@3 @@4 @@5
 
 	showresults: yes
</pre>


</dl>
<p>
<b>I am doing a stacked bar graph, stacking the values found in fields 4, 5, and 6.<tt> </tt>
Is there any way to use </b><tt>yautorange</tt><b> for this task?</b>
<dl>
<dt><dd><p>
You can use proc getdata's <tt>filter</tt> attribute to sum up fields 4 + 5 + 6
and create a new data field holding the result.  Then give yautorange the
new field.  Here is a sample:
<pre>
 	#proc getdata
 	file: mydata
 	filter: ##set SUM = $arithl(@@4+@@5+@@6)
 		@@1 @@2 @@3 @@SUM 
 
 	showresults: yes
 
 	#proc areadef
 	yautorange: datafield=4
 	...etc..
 
</pre>
</dl>
<p>
<b>In the results from sar -u, I can get "idle" time in %. Subtracting that
from 100 would give me the total CPU load data.  Is there an easy way to 
accomplish that within the ploticus script?</b>
<dl>
<dt><dd><p>
Yes, similarly to the above example, you can use proc getdata's filter attribute.<tt> </tt>
Suppose your idle time is in field #4:
<pre>
 	#proc getdata
 	file: myfile
 	filter: ##set CPUTOT = $arith(100-@@4)
         	@@1 @@2 @@3 @@CPUTOT @@5 @@6
  
 	showresults: yes
</pre>

</dl>
<p>
<b>I am doing a clustered bar graph, using the values found in fields 1 and 3.<tt> </tt>
Is there any way to use </b><tt>yautorange</tt><b> for this task?  It only uses
one data field in finding the scale.</b>
<dl>
<dt><dd><p>
<b>This is probably the most asked question lately.<tt> </tt>
You can specify multiple datafields in 
<a href="autorange.html">
 autorange
</a>
, and they will all be scanned for minima and maxima.<tt> </tt>
</b><dt><dd><p>
The old solution still works too:
<pre>
 	#proc getdata
 	file: mydata
 	showresults: yes
 	filter: ##set MAX = $max(@@1,@@3)
 		@@2 @@MAX
 
 	#proc areadef
 	yautorange: datafield=2
 	...etc..
 
</pre>

</dl>
<p>
<b>How can I make </b><tt>autorange</tt><b> work for stacked bars, or error bars?<tt> </tt>
</b><dl>
<dt><dd><p>
Use 
<a href="autorange.html">
 autorange
</a>
<tt>combomode</tt> subattribute.<tt> </tt>


</dl>
<p>
<b>I am producing bar graphs in postscript.  
There are seven different types of bars, using seven shades of gray.<tt> </tt>
It is hard to distinguish between
some of the grays, especially after photocopying.</b>
<dl>
<dt><dd><p>
Hatch patterns are also available as a 
<a href="color.html">
 color option
</a>
which may be useful in getting more distinguishable bar shades.<tt> </tt>

</dl>
<p>
<b>When I print on an Apple Laserwriter the grays look different than
on an HP (w/ postscript cartridge).</b>
<dl>
<dt><dd><p>
The halftoning process used to render grays on PostScript printers has
some hardware dependencies, hence the differences in appearance.<tt> </tt>

</dl>
<p>
<b>Can I use hatch patterns in pie graphs?</b>
<dl>
<dt><dd><p>
No, they may only be used to fill rectangular areas such as bars.<tt> </tt>

</dl>
<p>
<b>Why isn't vertical text displayed properly on X11?</b>
<dl>
<dt><dd><p>
Ploticus doesn't store its own fonts or have its own 
font system; rather it uses fonts that are native to the various graphics platforms
or drivers.  X11 does not support vertical fonts (at least it didn't seem to
when I wrote the X11 code several years ago).  PostScript and PNG/GIF do support 
vertical fonts.<tt> </tt>

</dl>
<p>
<b>If I had one feature request for ploticus it would be
support for setting text at angles other than 0 and 90.</b>
<dl>
<dt><dd><p>
This could be done for postscript rendering easily enough
but would be difficult in X11 and PNG/GIF, since the underlying
libraries do not support angled fonts.<tt> </tt>


</dl>
<p>
<b>I am specifying some data using #proc trailer.<tt> </tt>
Can I have a data statement in any proc def and pull coords out of it with
#in&lt;anyprocname&gt;
</b><dl>
<dt><dd><p>
No.  You can only have one #proc trailer per script file,
and the only way to read in that data is 
<pre>
    #proc getdata
      #intrailer
</pre>
The only #proc that reads (or specifies) data for plotting is #proc
getdata.<tt> </tt>
<dt><dd><p>
proc trailer was intended as a way to embed data but keep it
at the end of the script, for convenience.  #proc getdata's #intrailer
operator just tells it to look at the end of the file.  #intrailer starts
with a pound sign (#) because action needs to be taken by the script
interpreter (i.e. internal reasons).<tt> </tt>
<dt><dd><p>
If you need to embed multiple data sets, you could do it by using:
<pre>
    #proc getdata
    data:  1 2
           3 4
           5 6
            ..etc..
  
   #proc scatterplot
  
   #proc getdata
    data:  
           9 8
           7 6
           5 4
           .. etc..
  
    #proc scatterplot
  
    ..etc.
</pre>
 
</dl>
<p>
<b>I would like to know if there is a way to incorporate an HP-UX system date
command (`date +%b%d` is the command} into a ploticus script.  I would
like the UNIX command to be used in the tile of #proc page, but as long as I
can have the date on the graph page I would be happy.</b>
<dl>
<dt><dd><p>
One way would be to use the $system() function.  Here is an example:
<dt><dd><p>
<pre>
  #set TODAY = $system(date'+%b%d)
  #proc page
  title:  Some set of plots
         Run on: 01-MAR-2002
 
   ..etc.
</pre>
<tt></tt>$system is described near the end of the (long) functions(pl) man page
(ploticus/doc/functions.html).  Any spaces in the unix command need to
be represented as single quotes (').<tt> </tt>


</dl>
<p>
<b>How can I access a data field from within a ploticus script?  I tried
 and @@3 but no luck.</b>
<dl>
<dt><dd><p>
Constructs such as @@3 only have meaning within 
operations that are processing a stream of data, such as a select attribute
or getdata filter script.<tt> </tt>
They have no meaning in the rest of a ploticus script.<tt> </tt>
A function called $dataitem(row,field) is
available to retrieve specific data cells.  
For example, to assign variable M to the contents of the current data
set, first row, first column, do this:
<br>
<tt>#set M = $dataitem(1,1)</tt>



</dl>
<p>
<b>I am generating rangebars and would like to save and use the calculated statistics data set
for other purposes.  However, the format that proc rangebar produces is not
usable.</b>
<dl>
<dt><dd><p>
You can get a terser stats output (showbriefstats) and customize the row
identifiers to some degree (briefstatstag).  It is also easy to place the result into a
file (showstatsfile).<tt> </tt>

</dl>
<p>
<b>When generating rangebars with outliers it seems that a symbol is mandatory.<tt> </tt>
I don't want any symbol, just a label.</b>
<dl>
<dt><dd><p>
It is possible to say "none" for nearoutliersym and faroutliersym.<tt> </tt>

</dl>
<p>
<b>I am using your package to create stock graphs, from stock data, just as you 
have shown in the example. It takes maybe 2 seconds to produce the graph, where on 
Yahoo's site, whatever they are doing, it is instantaneous (I am using a cable modem). 
Is there any way I can increase the performance of your package?</b>
<dl>
<dt><dd><p>
The Yahoo finance site probably uses a package that is optimized for
the types of graphs they produce; they may also cache 
the more frequently requested graphs, and you can bet they are using
high-end systems that are optimized for fast web page generation and delivery.<tt> </tt>
<dt><dd><p>
Ploticus, on the other hand, is flexible and allows many, many options to be specified, 
including the color and style of most text and line objects.  
All of these options
have to be interpreted at run time and this adds overhead.<tt> </tt>
A bigger performance issue though, is that
Ploticus' development philosophy 
has been to code the various features in a robust, simple, maintainable way, 
and not necessarily the most efficient way.  
For instance,
many features are implemented using temporary scratch files rather than memory.<tt> </tt>
Most internal lookups (variables, commands, categories, date types) are 
implemented as plain linear searches.<tt> </tt>
Data are represented internally in character form, meaning that there is a lot of
character to floating point conversion going on.<tt> </tt>
<dt><dd><p>
Bottlenecks often become more evident as data sets get larger
or plotting procedures become more elaborate.<tt> </tt>
Features that are suspected of being particular bottlenecks are shown below.<tt> </tt>
</dl>
<dl><dt><dd>
<ul>
<li>
<b>proc getdata</b> <tt>filter</tt>s
<li>
<b>proc tabulate</b>, especially with larger numbers of unique values
</ul>
</dl>


<p>
<b>I have one data set with about 80 different cases represented in it.  Each case has
several dozen rows of data.  I want to produce a rangebar on each case.<tt> </tt>
However, looking at the examples that do similar to this, it seems
as if ploticus has to process the cases one at a time and for each case
scan the entire data set, selecting out the current case.  This means that
I will be scanning this data set 80 times which is horribly inefficient.  
Is there a better way?</b>
<dl>
<dt><dd><p>
Use the
<a href="processdata.html">
 proc processdata
</a>
<b>breaks</b> attribute.<tt> </tt>
It works within a loop, and causes the data set to be scanned only once.<tt> </tt>
It requires that the data be sorted by case.<tt> </tt>
An example that uses this is
<a href="../gallery/mouse.htm">
 mouse
</a>

</dl>
<p>
<i>More to come....</i>

<br>
<br>
</td></tr>
<td align=right>
<a href="../doc/Welcome.html">
<img src="../doc/ploticus.gif" border=0></a><br><small>data display engine &nbsp; <br>
<a href="../doc/Copyright.html">Copyright Steve Grubb</a>
<br>
<br>
<center>
<img src="../gallery/all.gif">
</center>
</td></tr>
</table>
<p><hr>
Markup created by <em>unroff</em> 1.0,&#160;<tt> </tt>&#160;<tt> </tt>March 01, 2002.
</body>
</html>
