<html>
<head>
<!-- This file has been generated by unroff 1.0, 12/11/01 13:49:23. -->
<!-- Do not edit! -->
<STYLE TYPE="text/css">
<!--
        A:link{text-decoration:none}
        A:visited{text-decoration:none}
        A:active{text-decoration:none}
-->
</STYLE>
<title>ploticus: proc scatterplot</title>
<body bgcolor=D0D0EE vlink=0000FF>
<br>
<br>
<center>
<table cellpadding=2 bgcolor=FFFFFF width=550 ><tr>
<td>
  <table cellpadding=2 width=550><tr>
  <td><br><h2>proc scatterplot</h2></td>
  <td align=right>
  <small>
  <a href="../doc/Welcome.html"><img src="../doc/ploticus.gif" border=0></a><br>
  <a href="../doc/Welcome.html">Welcome</a> &nbsp; &nbsp;
  <a href="../gallery/index.html">Gallery</a> &nbsp; &nbsp;
  <a href="../doc/Contents.html">Handbook</a> 
  <td></tr></table>
</td></tr>
<td>
<br>
<br>

<title>Manual page for proc_scatterplot(PL)</title>
</head>
<body>

<center>
<img src="../gallery/scatterplot0.gif">
</center>

<h2>DESCRIPTION</h2>
Displays data points in one or two dimensions.<tt> </tt>

<br><br><br>
<h2>FEATURES</h2>
Clustering (using a small offset) of duplicate data points.<tt> </tt>
<p>
Data points may be marked with geometric point symbols,
characters/text, or lines.<tt> </tt>
<p>
User control over point shapes, colors, sizes.<tt> </tt>
<p>
Optional labelling from data, and control of point size from data.<tt> </tt>
<p>
<a href="clickmap.html">
 HTML clickmap
</a>
support for data points.<tt> </tt>

<br><br><br>
<h2>EXAMPLES</h2>
See the Gallery Scatterplot page
<a href="../gallery/gall.scat.html"><img src="../gallery/btn/here.gif"></a>

<br><br><br>
<h2>VARIABLES THAT ARE SET</h2>
<b>NVALUES</b> = the number of in-range plottable points that were rendered.<tt> </tt>
Note: this may be used in the legendlabel.<tt> </tt>

<br><br><br>
<h2>UNPLOTTABLE DATA</h2>
<b>proc scatterplot</b> will omit data points that are not valid
or not within the plotting area.<tt> </tt>

<br><br><br>
<h2>PREREQUISITES</h2>
A plotting area must be set up using <b>proc areadef</b> 
and <b>proc getdata</b> must be executed to 
access or define some data.<tt> </tt>

<br><br><br>
<h2>MODES</h2>
2-dimensional (2-D) and 1-dimensional (1-D).<tt> </tt>
For 2-D scatterplots, both <tt>xfield</tt> and <tt>yfield</tt>
should be specified.<tt> </tt>
<p>
With 1-D scatterplots points are plotted along an imaginary
line.  To distribute points horizontally along Y=1 for example,
<tt>ylocation: 1</tt> and <tt>xfield</tt> should be specified.<tt> </tt>
To distribute points vertically along X=5,
<tt>xlocation: 5</tt> and <tt>yfield</tt> should be specified.<tt> </tt>
<p>
Data points may be marked with geometric point symbols and/or
characters/text, or using short line segments.  
Characters/text may be a literal or it may come from a data field.  
It is also possible to have the geometric point symbols under the
control of a datafield (<tt>symfield</tt>).<tt> </tt>

<br><br><br>
<h2>DUPLICATE POINTS</h2>
The <tt>cluster</tt> attribute (which is <b>on</b> by default) causes
duplicate points to be offset slightly to form a cluster or bar, which
often gives a satisfactory visual representation of the degree
of duplicity.  
It is also possible to show duplicity using different symbol colors,
sizes or shapes (<tt>dupsleg</tt>).<tt> </tt>


<br><br><br>
<h2>MANDATORY ATTRIBUTES</h2>
For a 2-D scatterplot both <tt>xfield</tt> and <tt>yfield</tt> must
be specified.<tt> </tt>
For a 1-D scatterplot, either <tt>xfield</tt> or <tt>yfield</tt> must
be specified.<tt> </tt>

<br><br><br>
<h2>ATTRIBUTES</h2>
<p>
<b>xfield</b> 
<a href="attributetypes.html#dfield">
<i> dfield </i>
</a>
<dl>
<dt><dd><p>
Get X plotting values from this data field.<tt> </tt>
First field is 1.<tt> </tt>
Example: <tt>xfield: 1</tt>

</dl>
<p>
<b>yfield</b> 
<a href="attributetypes.html#dfield">
<i> dfield </i>
</a>
<dl>
<dt><dd><p>
Get Y plotting values from this data field.<tt> </tt>
First field is 1.<tt> </tt>
Example: <tt>yfield: 1</tt>

</dl>
<p>
<b>xlocation</b>
<a href="attributetypes.html#locvalue">
<i> locvalue </i>
</a>
<dl>
<dt><dd><p>
If specified, <b>proc scatterplot</b> will operate in 1-D mode 
along Y.  The value specifies where the points will be rendered in X.<tt> </tt>

</dl>
<p>
<b>ylocation</b>
<a href="attributetypes.html#locvalue">
<i> locvalue </i>
</a>
<dl>
<dt><dd><p>
If specified, <b>proc scatterplot</b> will operate in 1-D mode 
along X.  The value specifies where the points will be rendered in Y.<tt> </tt>

</dl>
<p>
<b>cluster</b>  <tt>yes</tt> | <tt>no</tt>
<dl>
<dt><dd><p>
If yes, data will be sorted on X,Y and duplicate data points 
will be detected and offset slightly to show duplicity.  
The default is <tt>yes</tt>.<tt> </tt>
Clusters may be as large as N=36 (after this, points will overlap).<tt> </tt>
Additional attributes related to clustering are described below.<tt> </tt>
Note: If labelfield and/or sizefield are being used, clustering
will work properly only when data are presorted into X,Y order.<tt> </tt>

</dl>
<p>
<b>symbol</b> 
<a href="symboldetails.html">
<i> symboldetails </i>
</a>
<dl>
<dt><dd><p>
If specified, a geometric point symbol will mark data points.<tt> </tt>
This specifies the attributes of the symbols to be used.<tt> </tt>
<br>
Example: <tt>symbol: style=fill shape=circle fillcolor=red</tt>


</dl>
<p>
<b>linelen</b> <i>n</i>
<dl>
<dt><dd><p>
If specified, data points will be displayed as lines of length
<i>n</i> in 
<a href="attributetypes.html#positionunits">
<i> absolute units </i>
</a>
 .  The direction of the line will
be appropriate for 1-D scatterplots; for 2-D it is horizontal.<tt> </tt>
Line color, etc. may be controlled using <tt>linedetails</tt>.<tt> </tt>
Example: <tt>linelen: 0.2</tt>

</dl>
<p>
<b>text</b> 
<a href="attributetypes.html#text">
<i> text </i>
</a>
<dl>
<dt><dd><p>
If specified, data points will be displayed using the
given <i>text</i>, centered around the data point.<tt> </tt>
This attribute may be used with or without a <tt>symbol</tt>.<tt> </tt>
Example: <tt>text: A</tt>

</dl>
<p>
<b>labelfield</b> 
<a href="attributetypes.html#dfield">
<i> dfield </i>
</a>
<dl>
<dt><dd><p>
If specified, data points will be displayed using
the contents of data field <i>dfield</i>, centered
around the data point.<tt> </tt>
May not be used with symbol; in order to do datafield-driven label 
plus a symbol proc scatterplot must be invoked twice.<tt> </tt>
<br>
Example: <tt>labelfield: 4</tt>

</dl>
<p>
<b>textdetails</b> 
<a href="textdetails.html">
<i> textdetails </i>
</a>
<dl>
<dt><dd><p>
Details concerning the rendering of point labels.<tt> </tt>
<br>
Example: <tt>textdetails: size=6</tt>

</dl>
<p>
<b>linedetails</b> 
<a href="linedetails.html">
<i> linedetails </i>
</a>
<dl>
<dt><dd><p>
If points are displayed using line segments (<tt>linelen</tt>), this
attribute allows control of color, line width, etc.<tt> </tt>


</dl>
<p>
<b>legendlabel</b>  
<a href="attributetypes.html#text">
<i> text </i>
</a>
<dl>
<dt><dd><p>
A label to be associated with the current set of points in the legend.<tt> </tt>
<b>proc legend</b> must be executed later in order to 
render the legend.  <b>@NVALUES</b> may be used to signify number of
points rendered.<tt> </tt>
<br>
Example: <tt>legendlabel: Group 4, N=@NVALUES</tt>
 

</dl>
<p>
<b>verticaltext</b> <tt>yes</tt> | <tt>no</tt>
<dl>
<dt><dd><p>
If <tt>yes</tt>, label text will be rendered vertically.<tt> </tt>
This might be useful when labels are &gt; 1 character long
and data are close together in X.<tt> </tt>

</dl>
<p>
<b>sizefield</b> 
<a href="attributetypes.html#dfield">
<i> dfield </i>
</a>
<dl>
<dt><dd><p>
Allows the size of point markers or lines to be controlled by
a datafield, effectively allowing another variable to be presented.<tt> </tt>
<dt><dd><p>
If data points are marked using geometric symbols or text,
the value in <i>dfield</i> will cause the marks to correspond
to character point sizes.  For example, a data value
of 10 would yield a data point mark 10 points in height.<tt> </tt>
The <i>sizescale</i> attribute may be used to scale the
<tt>sizefield</tt> data appropriately.<tt> </tt>
<dt><dd><p>
If data points are marked using lines, the value in <i>dfield</i>
will scale the length of the lines.  For example, a data value
of 1.0 would leave the line length unchanged, while 2.0 would
double it and 0.5 would halve it.<tt> </tt>

</dl>
<p>
<b>sizescale</b> <i>n</i>
<dl>
<dt><dd><p>
May be used with <tt>sizefield</tt> when the size of data point symbols or text is
being controlled by a datafield.  This attribute may be used
to scale the size of the point symbols to the desired range.  
It assumes the symbol is a circle and scales the <i>area</i> rather than
the diameter or radius.<tt> </tt>
A value of 1.0 would leave the size unchanged, 
while 2.0 would double the resulting size,
and 0.5 would halve it.<tt> </tt>

</dl>
<p>
<b>clustermethod</b> <tt>2d | horiz | vert | upward | rightward</tt>
<dl>
<dt><dd><p>
Explicitly control the way that duplicate points will be clustered.<tt> </tt>
Default method is <tt>2d</tt> for 2-D scatterplots, <tt>horiz</tt> for 1-D scatterplots
where Y location is fixed, and <tt>vert</tt> for 1-D scatterplots
where X location is fixed.<tt> </tt>
<tt>upward</tt> and <tt>rightward</tt> may be used to string duplicate points upward
or rightward to form little bars.  <tt>horiz</tt> will cluster duplicate points
only horizontally; <tt>vert</tt> will cluster duplicate points only vertically.<tt> </tt>
An example of using <tt>clustermethod: upward</tt> to form rows of little bars,
is 
<a href="../gallery/snpmap1.htm">
 snpmap1
</a>
<dt><dd><p>
To represent duplicate points using different symbol colors (etc.) see <tt>dupsleg</tt>.<tt> </tt>

</dl>
<p>
<b>clusterfact</b> <i>n</i>
<dl>
<dt><dd><p>
May be used when <tt>clustering</tt> is being done.  The clustering offset distance
will be multiplied by this
amount.  A value of 1.0 would leave the clustering offsets unchanged,
while 2.0 would spread clustered points out more, and 0.5 would
spread them out less.<tt> </tt>

</dl>
<p>
<b>clusterdiff</b> <i>f</i>
<dl>
<dt><dd><p>
May be used when <tt>clustering</tt> is being done.  Two values
that are within <i>f</i> of each other will be considered duplicates
eligible for clustering.  Default value is 0.01.<tt> </tt>

</dl>
<p>
<b>clustevery</b>  <i>n</i>
<dl>
<dt><dd><p>
With clustering, normally every duplicate point is offset from all
the others,
which may not be effective if there are large numbers of duplicate points.<tt> </tt>
In order to reduce the clutter, this attribute may be used to offset 
only for every <i>n</i>th duplicate encountered.<tt> </tt>
<br>
Example: <tt>clustevery: 5</tt>   ..would result in a point having 35 duplicates
represented using 7 point marks.<tt> </tt>

</dl>
<p>
<b>dupsleg</b> <tt>yes | no</tt>
<dl>
<dt><dd><p>
If <tt>yes</tt> the symbol color, size, shape, etc. will be controlled by the number of duplicate points counted.<tt> </tt>
This uses the
<a href="legendentry.html#legenddriven">
 legend-driven technique
</a>
 .  Each legend entry must have a <tt>tag</tt> that is an integer, 
and a 
<a href="symboldetails.html">
 symboldetails
</a>
entry for <tt>details</tt>.<tt> </tt>
Legend entries must be specified in numerical order by tag, from highest to lowest.<tt> </tt>
As the scatterplot is drawn and duplicate points are detected,
a count of duplicates is maintained. 
Then the count is compared against the set of tags (from highest to lowest).<tt> </tt>
When a tag is found that is &lt;= the duplicate count, that
legend entry is chosen, and the point will be rendered using the symbol
described in that entry.<tt> </tt>
Example: 
<a href="../gallery/dupsleg.htm">
 dupsleg
</a>

</dl>
<p>
<b>symfield</b>
<a href="attributetypes.html#dfield">
 dfield
</a>
<dl>
<dt><dd><p>
If specified, the symbol color, size, shape, etc. will be controlled by this data field
using the 
<a href="legendentry.html#legenddriven">
 legend-driven technique
</a>
 .<tt> </tt>
Example: 
<a href="../gallery/symfld.htm">
 symfld
</a>

</dl>
<p>
<b>symrangefield</b>
<a href="attributetypes.html#dfield">
 dfield
</a>
<dl>
<dt><dd><p>
Same as <tt>symfield</tt> above, except that numeric range comparison is used
when finding the appropriate legend entry, using the
<a href="legendentry.html#legenddriven">
 legend-driven technique
</a>
Legend tags must be a single numeric value.<tt> </tt>
Legend entries must be specified in numerical order by tag, from highest to lowest.<tt> </tt>
Prospective values will be compared against legend entries in the order specified (highest to lowest);
when a legend entry tag is found that is less than or equal to the contents of 
the <tt>symrangefield</tt> data field, 
that legend entry is chosen, and the point will be rendered using the symbol
described in that entry.<tt> </tt>
Example: 
<a href="../gallery/symrangefld.htm">
 symrangefld
</a>

</dl>
<p>
<b>select</b> 
<a href="condex.html">
<i> conditional-expression </i>
</a>
<dl>
<dt><dd><p>
May be used to select data rows for inclusion into the scatterplot.<tt> </tt>
Example: <tt>select: @3 = AA</tt>

</dl>
<p>
<b>xrange</b> <i>low high</i>
<dl>
<dt><dd><p>
If specified, only data points within the given plottable range in X
will be shown.  By default the points will be drawn only if within
the plotting area.<tt> </tt>
Example: <tt>xrange: 0 50</tt>

</dl>
<p>
<b>yrange</b> <i>low high</i>
<dl>
<dt><dd><p>
If specified, only data points within the given plottable range in Y
will be shown.  By default the points will be drawn only if within
the plotting area.<tt> </tt>
Example: <tt>yrange: 0 50</tt>

</dl>
<p>
<b>clickmapurl</b> <i>url template</i>
<dl>
<dt><dd><p>
If generating an
<a href="clickmap.html">
 HTML clickmap
</a>
, this specifies a url template, and
causes the data points (symbol or character) to be mapped.<tt> </tt>
This attribute usually contains one or more embedded
<a href="attributetypes.html#dfield">
 data field references
</a>
preceded by double at-sign (@@).<tt> </tt>
See
<a href="clickmap.html">
 HTML clickmap
</a>
for more details and examples.<tt> </tt>
<br>
Example: <tt>clickmapurl: http://abc.com/mycgi?category=@@3</tt>

<br>
<br>
</td></tr>
<td align=right>
<a href="Welcome.html">
<img src="../doc/ploticus.gif" border=0></a><br><small>data display engine &nbsp; <br>
<a href="../doc/Copyright.html">Copyright Steve Grubb</a>
<br>
<br>
<center>
<img src="../gallery/all.gif">
</center>
</td></tr>
</table>
</dl>
<p><hr>
Markup created by <em>unroff</em> 1.0,&#160;<tt> </tt>&#160;<tt> </tt>December 11, 2001.
</body>
</html>
