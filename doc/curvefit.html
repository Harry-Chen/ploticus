<html>
<head>
<!-- This file has been generated by unroff 1.0, 03/01/02 09:13:43. -->
<!-- Do not edit! -->
<STYLE TYPE="text/css">
<!--
        A:link{text-decoration:none}
        A:visited{text-decoration:none}
        A:active{text-decoration:none}
-->
</STYLE>
<title>ploticus: proc curvefit</title>
<body bgcolor=D0D0EE vlink=0000FF>
<br>
<br>
<center>
<table cellpadding=2 bgcolor=FFFFFF width=550 ><tr>
<td>
  <table cellpadding=2 width=550><tr>
  <td><br><h2>proc curvefit</h2></td>
  <td align=right>
  <small>
  <a href="../doc/Welcome.html"><img src="../doc/ploticus.gif" border=0></a><br>
  <a href="../doc/Welcome.html">Welcome</a> &nbsp; &nbsp;
  <a href="../gallery/index.html">Gallery</a> &nbsp; &nbsp;
  <a href="../doc/Contents.html">Handbook</a> 
  <td></tr></table>
</td></tr>
<td>
<br>
<br>

<title>Manual page for proc_curvefit(PL)</title>
</head>
<body>

<center>
<img src="../gallery/curvefit0.gif">
</center>

<h2>DESCRIPTION</h2>
<p>
<b>proc curvefit</b> fits a curve to the data and renders
the curve with a line.<tt> </tt>

<h2>FEATURES</h2>
Can compute moving average, linear regression, or bspline curve.<tt> </tt>
Also, complete control over color, width, and dash style of line.<tt> </tt>

<h2>EXAMPLES</h2>
See the Gallery curvefit examples
<a href="../gallery/gall.curvefit.html"><img src="../gallery/btn/here.gif"></a>

<h2>PREREQUISITES</h2>
A plotting area must be set up using <b>proc areadef</b> 
and <b>proc getdata</b> must be executed to 
access or define some data.<tt> </tt>
The data may be presented in any order; proc curvefit will order it in X.<tt> </tt>

<h2>MODES</h2>
Like <b>proc lineplot</b>, data may be given for both X and Y 
or just for Y.  In the latter case, sequential unit locations are
used for the X component.<tt> </tt>

<h2>VARIABLES THAT ARE SET</h2>
<p>
<b>REGRESSION_LINE</b>
<dl>
<dt><dd><p>
If curvetype is <tt>regression</tt>, this variable will be set to display
the formula for the regression line.<tt> </tt>
</dl>
<p>
<b>CORRELATION</b>
<dl>
<dt><dd><p>
If curvetype is <tt>regression</tt>, this variable will be set to display
the Pearson correlation coefficient (r), which ranges from -1.0 to 1.0, where
1.0 is a strong correlation (positive slope), -1.0 is a strong correlation
(negative slope), and 0 is no correlation.<tt> </tt>


</dl>
<h2>MANDATORY ATTRIBUTE</h2>
The <tt>yfield</tt> attribute MUST be specified.<tt> </tt>

<h2>ATTRIBUTES</h2>
<p>
<b>yfield</b> 
<a href="attributetypes.html#dfield">
<i> dfield </i>
</a>
<dl>
<dt><dd><p>
Data field to use for Y values.<tt> </tt>
Example: <tt>yfield: 1</tt>

</dl>
<p>
<b>xfield</b> 
<a href="attributetypes.html#dfield">
<i> dfield </i>
</a>
<dl>
<dt><dd><p>
Data field to use for X values.<tt> </tt>
If not given, sequential unit locations in X will be used.<tt> </tt>
Example: <tt>xfield: 4</tt>

</dl>
<p>
<b>curvetype</b> <tt>movingavg</tt> | <tt>regression</tt> | <tt>bspline</tt> | <tt>avg</tt>
<dl>
<dt><dd><p>
The type of curve fitting computation to perform.  
<dt><dd><p>
<b>movingavg</b>: For each point, it takes the average of the current point and <i>n</i>-1 
points to the left (or as many points as are available).<tt> </tt>
<i>n</i> is controlled by the <tt>order</tt> attribute.<tt> </tt>
Often used in finance.<tt> </tt>
<dt><dd><p>
<b>regression</b> computes the linear regression for the set of points.  The result will be a
straight line expressing the relationship between X and Y.  Often used with scatterplots.<tt> </tt>
The variables REGRESSION_LINE and CORRELATION will be set (see VARIABLES above).<tt> </tt>
<dt><dd><p>
<b>bspline</b> draws a curve using the bspline algorithm.  The <tt>order</tt> and <tt>resolution</tt>
attributes control the appearance of the result.  May be used to fit a curve to a histogram.<tt> </tt>
<dt><dd><p>
<b>avg</b> is similar to movingavg except that it also includes <i>n</i>-1 points to the right
of the current point (or as many points as are available) in the average.  
Thus, for a point that is far from either edge, 2<i>n</i>-1 points will be averaged.<tt> </tt>
<dt><dd><p>
Example: <tt>curvetype: movingavg</tt>

</dl>
<p>
<b>order</b> <i>n</i>
<dl>
<dt><dd><p>
For bspline curves, this is a value between 2 and 20; a lower value
yields a more jagged curve, while a higher value gives a smoother curve.<tt> </tt>
The number of data points must be at least this value for a bspline curve
to be possible.<tt> </tt>
<dt><dd><p>
For movingavg curves, this defines the number of points
to include in each average computation.  For avg curves, 2<i>n</i> - 1
points will be considered, where <i>n</i> = the <tt>order</tt> value.<tt> </tt>
<dt><dd><p>
This attribute has no effect with regression curve.<tt> </tt>
<dt><dd><p>
Default order for either type of curve is 4.<tt> </tt>
<dt><dd><p>
Example: <tt>order: 8</tt>

</dl>
<p>
<b>resolution</b> <i>n</i>
<dl>
<dt><dd><p>
Only relevant for bspline curves.  
For every input point, <i>n</i> result points will be generated.<tt> </tt>
Default is 5.0.<tt> </tt>

</dl>
<p>
<b>linedetails</b> 
<a href="linedetails.html">
<i> linedetails </i>
</a>
<dl>
<dt><dd><p>
Rendering details for the curve.<tt> </tt>
Example: <tt>linedetails: color=red width=2.0 style=2</tt>

</dl>
<p>
<b>calcrange</b> <i>min</i> [<i>max</i>]
<dl>
<dt><dd><p>
Data within this range will be included in curve calculation.<tt> </tt>
If only one value is given, it will be taken as the range
minima and the maxima will be the plottable maxima.<tt> </tt>
If not specified all data rows will be included.<tt> </tt>

</dl>
<p>
<b>linerange</b> <i>min</i> [<i>max</i>]
<dl>
<dt><dd><p>
Controls the X range (in scaled units) within which the curve will be rendered.<tt> </tt>
Data points falling outside this range will not be rendered.<tt> </tt>
If accumulation is being done, points outside the range will contribute
to the accumulated total.<tt> </tt>
If only one value is given, it will be taken as the range
minima and the maxima will be the plottable maxima.<tt> </tt>
If not specified all data rows will be plotted.<tt> </tt>
<dt><dd><p>
For regression curves, this attribute may be used to limit
the X range of the regression line, or to create a regression line that extends 
beyond the X range of the data.  
In this case, <i>min</i> and <i>max</i> should both be given.<tt> </tt>
<dt><dd><p>
Example: <tt>linerange: 1</tt>

</dl>
<p>
<b>legendlabel</b>  
<a href="attributetypes.html#text">
<i> text </i>
</a>
<dl>
<dt><dd><p>
A label to be associated with the curve in the legend.<tt> </tt>
<b>proc legend</b> must be executed later in order to
render the legend.<tt> </tt>

</dl>
<p>
<b>select</b>  
<a href="condex.html">
<i> conditional-expression </i>
</a>
<dl>
<dt><dd><p>
Allows selected data points to be included in curve computation.<tt> </tt>
 
</dl>
<p>
<b>showresults</b>  <tt>yes</tt> | <tt>no</tt>
<dl>
<dt><dd><p>
If <tt>yes</tt>, a listing of the points in the computed curve will
be written to the diagnostic stream (-diag).<tt> </tt>

</dl>
<p>
<b>statsonly</b>  <tt>yes</tt> | <tt>no</tt>
<dl>
<dt><dd><p>
For regression curves, this option may be used if it is desired to
compute the REGRESSION_LINE and CORRELATION variables but display no curve.<tt> </tt>

<br>
<br>
</td></tr>
<td align=right>
<a href="../doc/Welcome.html">
<img src="../doc/ploticus.gif" border=0></a><br><small>data display engine &nbsp; <br>
<a href="../doc/Copyright.html">Copyright Steve Grubb</a>
<br>
<br>
<center>
<img src="../gallery/all.gif">
</center>
</td></tr>
</table>
</dl>
<p><hr>
Markup created by <em>unroff</em> 1.0,&#160;<tt> </tt>&#160;<tt> </tt>March 01, 2002.
</body>
</html>
