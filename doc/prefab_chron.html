<html>
<head>
<!-- This file has been generated by unroff 1.0, 01/08/02 15:53:00. -->
<!-- Do not edit! -->
<STYLE TYPE="text/css">
<!--
        A:link{text-decoration:none}
        A:visited{text-decoration:none}
        A:active{text-decoration:none}
-->
</STYLE>
<title>ploticus: chron prefab</title>
<body bgcolor=D0D0EE vlink=0000FF>
<br>
<br>
<center>
<table cellpadding=2 bgcolor=FFFFFF width=550 ><tr>
<td>
  <table cellpadding=2 width=550><tr>
  <td><br><h2>chron prefab</h2></td>
  <td align=right>
  <small>
  <a href="../doc/Welcome.html"><img src="../doc/ploticus.gif" border=0></a><br>
  <a href="../doc/Welcome.html">Welcome</a> &nbsp; &nbsp;
  <a href="../gallery/index.html">Gallery</a> &nbsp; &nbsp;
  <a href="../doc/Contents.html">Handbook</a> 
  <td></tr></table>
</td></tr>
<td>
<br>
<br>

<title>Manual page for chron_prefab(PL)</title>
</head>
<body>

<p>
<a href="prefab_chron.html#manpage">
 Click here to skip over examples
</a>

<h2>EXAMPLE 1 - Dates</h2>
<center><table cellpadding=2><tr>
<td><img src="../gallery/prefab_img/chron1.gif"></td></tr>
</table></center>
<p>
<pre>
pl  -prefab chron  data=data14  x=1  y=2  datefmt=yy/mm/dd  xinc="1 month" \
     stubfmt=M  xyears=yyyy  yrange="0 25"  barwidth=line  color=red  \
     title="# hits per day"  omitweekends=yes


The data14 file:
	00/12/21 1
	00/12/22 1
	00/12/23 2
	00/12/27 1
        ...etc.


</pre>
<h2>EXAMPLE 2 - Dates - tabulated by week</h2>
<center><table cellpadding=2><tr>
<td><img src="../gallery/prefab_img/chron2.gif"></td></tr>
</table></center>
<p>
<pre>

pl  -prefab chron  data=data14  x=1  y=2  datefmt=yy/mm/dd  xinc="1 month" \
      stubfmt=M  xyears=yyyy  color=green  tab=week  title="# hits per week"

</pre>

<h2>EXAMPLE 3 - Dates - tabulated by week</h2>
<center><table cellpadding=2><tr>
<td><img src="../gallery/prefab_img/chron3.gif"></td></tr>
</table></center>
<p>
<pre>
pl  -prefab chron  data=data19  x=2  y=1  datefmt=mmddyy  xinc="1 month" \
	stubfmt=M  xyears=yyyy  color=green  tab=week  include2=annot \
	title="# website visitors per week"  rectangle="1 1 4 2.5"  ygrid=yes  \
	mode=line step=yes fill=red 

The data19 file:
  18 071301
  16 071401
  15 071501
  34 071601
  ...etc.

</pre>
In the above example, notice that <b>rectangle</b> (new in 2.02) was used to set a smaller
size, and a file containing script code for the annotation is included.<tt> </tt>

<br><br><br>


<h2>EXAMPLE 4 - Dates - tabulated by month</h2>
<center><table cellpadding=2><tr>
<td><img src="../gallery/prefab_img/chron4.gif"></td></tr>
</table></center>
<p>
<pre>


pl  -prefab chron  data=data14  x=1  y=2  datefmt=yy/mm/dd  xinc="1 month"  \
	stubfmt=M  xyears=yyyy  color=powderblue  tab=month  tabmode=first  \
	nearest=month  barwidth=0.2  curve=yes 


</pre>

<h2>EXAMPLE 5 - Datetimes - tabulated by hour</h2>
<center><table cellpadding=2><tr>
<td><img src="../gallery/prefab_img/chron5.gif"></td></tr>
</table></center>
<p>
<pre>

pl -prefab chron  data=data16  x=1  tab=hour  datefmt=yy/mm/dd  xinc="1 day" \
	barwidth=line  stubfmt=MMMdd  unittype=datetime  timefld=2  \
	title="# hits per hour"


The data16 file:
	01/09/05	09:43:35
	01/09/05	09:43:40
	01/09/05	13:15:00
	01/09/05	13:15:11
	...etc.

Note that a file such as this (data13) could also be used, and timefld
would not need to specified:
	01/09/05.09:43:35
	01/09/05.09:43:40
	01/09/05.13:15:00
	01/09/05.13:15:11
	..etc.

</pre>

<h2>EXAMPLE 6 - Times - tabulated by hour</h2>
<p>
<center><table cellpadding=2><tr>
<td><img src="../gallery/prefab_img/chron6.gif"></td></tr>
</table></center>
<p>
<pre>
pl -prefab chron  data=data15  x=1  tab=hour unittype=time xinc="1 hour" \
	nearest=hour  barwidth=0.2  stubfmt=HHA  \
	title="# events per hour"  color=coral


The data15 file:
	07:47:49
	07:47:52
	07:47:54
	..etc.

</pre>

<p>
<a href="prefabs.html#examples">
 How to run these examples
</a>

<a name=manpage></a>

<h2>DESCRIPTION</h2>
<b>chron</b> is a 
<a href="prefabs.html">
 prefab
</a>
for plotting chronological data.<tt> </tt>
Data may be expressed as
<a href="dates.html">
 dates
</a>
,
<a href="times.html">
 times
</a>
(seconds portion is optional)
,
or a combination of date and time called
<a href="scaleunits.html#datetime">
 datetime
</a>
 .<tt> </tt>
<b>chron</b> can produce bar or line plots, and can plot explicit values or 
tabulate by week, month, day, hour, etc.<tt> </tt>
Time is shown along the X axis.<tt> </tt>
The data file must be in chronological order.<tt> </tt>

<p>

<br><br><br>

<h2>PARAMETERS</h2>
<dl>
<dt><dd><p>
<a href="prefab_stdparms.html">
 Standard prefab parameters
</a>
 are all supported except <b>err</b>.  
<b>data</b> and <b>x</b> are always required.<tt> </tt>
Data field <b>x</b> must contain dates, times, or datetimes.<tt> </tt>
Data field <b>y</b> may contain values.<tt> </tt>
<b>xinc</b> supports 
<a href="axis.html#stubunits">
 constructs
</a>
such as <tt>"1 month"</tt>; if only a
number is given, it is assumed to be days (the default for <b>xinc</b> is 7 days).<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>unittype</b> specifies the type of chronological scaling.<tt> </tt>
Default is <tt>date</tt>.  Allowable values are <tt>time</tt>, <tt>datetime</tt> and 
<a href="scaleunits.html#datetime">
 datetime
</a>
 .<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>mode</b> is either <tt>bars</tt> (the default) or <tt>line</tt>.<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>datefmt</b> is the 
<a href="dates.html">
 date format
</a>
you are using.  This must be specified unless 
using the default format (as set in a
<a href="config.html">
 config file
</a>
, otherwise <tt>mmddyy</tt>).<tt> </tt>
If plotting datetime values, <b>datefmt</b> specifies only the date portion.<tt> </tt>
If plotting time values, <b>datefmt</b> is ignored.<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>stubfmt</b> is the 
<a href="dates.html">
 date format
</a>
or
<a href="times.html">
 time format
</a>
to be used for X axis stubs.<tt> </tt>
The defaults are <tt>MMMdd</tt> (date) and <tt>HHa</tt> (time).<tt> </tt>
You can use <tt>stubvert=yes</tt> to render stubs vertically.<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>xyears</b> allows years to be displayed along X axis below date X stubs.  
Use <tt>yy</tt> for 2 digit year eg 01, <tt>yyy</tt> for eg '01, and <tt>yyyy</tt>
for eg <tt>2001</tt>.<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>omitweekends</b> may be specified as <tt>yes</tt> to allow the graph to be 
drawn such that Friday is followed immediately by Monday.  Any data points
falling on a Saturday or Sunday are silently adjusted to the nearest weekday.<tt> </tt>


<br>
<br>
<dt><dd><p>
<b>tab</b> tabulates data
by <tt>hour</tt>, <tt>day</tt>, <tt>week</tt>, <tt>month</tt>, <tt>quarter-year</tt>, or <tt>year</tt>.  
If a <b>y</b> data field is being used, the <b>y</b> values will be totaled;
otherwise, instances will be counted.<tt> </tt>
Tabulation is done by internally adjusting dates and then counting.<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>tabmode</b> is used with <b>tab</b>.<tt> </tt>
Allowable values are <tt>mid</tt> and <tt>first</tt> (default is <tt>mid</tt>).<tt> </tt>
<tt>mid</tt> causes tabulations to be based on a date or time in the
middle of the interval; for <tt>first</tt> the beginning of the interval is used.<tt> </tt>
<tt>mid</tt> is appropriate for some types
of plots while <tt>first</tt> is better for others.<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>timefld</b> specifies a 
<a href="attributetypes.html#dfield">
 data field
</a>
that holds time values.  
Normally when plotting 
<a href="scaleunits.html#datetime">
 datetimes
</a>
, dates and times are combined into one data field, separated by a period (.).<tt> </tt>
If <b>timefld</b> is used, however, 
dates may be in one data field (<b>x</b>) and times in another.  

<br>
<br>
<dt><dd><p>
<b>nearest</b> may be used to specify cutoffs for automatic scaling in X.<tt> </tt>
For example, <tt>nearest=month</tt> would cause X min and max to fall on 
month boundaries.<tt> </tt>
Allowable values are <tt>hour</tt>, <tt>day</tt>, <tt>month</tt>, <tt>quarter</tt>, and <tt>year</tt>.<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>curve</b> may be specified as <tt>yes</tt> or as a
<a href="linedetails.html">
 linedetails value
</a>
, and causes a moving average curve to be fit and drawn.  <b>order</b>
(default = 5) may be used to control the number of points considered when 
computing the moving average curve (higher value = smoother curve).<tt> </tt>



</dl>
<p>
If mode is <tt>bars</tt>:
<dl>
<dt><dd><p>
<b>barwidth</b> controls the width of bars
This is a value in inches,
or may be given as <tt>line</tt> for very thin bars.<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>color</b> controls the 
<a href="color.html">
 color
</a>
of bars, if <tt>mode=bars</tt>.<tt> </tt>

<br>
<br>
<dt><dd><p>
<b>crossover</b> may be specified as the value in Y where bars begin
to point downward instead of upward.  For instance, <tt>crossover=0</tt>
is often useful when dealing with financial income, to show loss
using downward bars.<tt> </tt>


</dl>
<p>
If mode is <tt>line</tt>:
<dl>
<dt><dd><p>
<b>linedet</b> controls the
<a href="linedetails.html">
 appearance
</a>
of the line, if <tt>mode=line</tt>.<tt> </tt>
<br>
<br>
<dt><dd><p>
<b>step</b> may be given as <tt>yes</tt> to get a stairstep line.<tt> </tt>
<br>
<br>
<dt><dd><p>
<b>fill</b> may be given as a 
<a href="color.html">
 color
</a>
, resulting in the area under the line being filled.<tt> </tt>
<br>
<br>
<dt><dd><p>
<b>gapmissing</b> may be specified as <tt>yes</tt> or <tt>small</tt>.<tt> </tt>
If <tt>yes</tt>, missing data will cause a gap in the line (normally
the line connects plottable points without a gap).  <tt>small</tt> is
the same as <tt>yes</tt> except that it leaves a small overhang.<tt> </tt>

<br><br><br>
</dl>
<p>
Note: Because filter processing is applied to data as they are read,
<b>tabulate</b> cannot be set from within the data file.<tt> </tt>
If <b>tabulate</b> is used, <b>x</b>, <b>y</b> and <b>datefmt</b> cannot
be set from within the data file.<tt> </tt>

<br>
<br>
</td></tr>
<td align=right>
<a href="Welcome.html">
<img src="../doc/ploticus.gif" border=0></a><br><small>data display engine &nbsp; <br>
<a href="../doc/Copyright.html">Copyright Steve Grubb</a>
<br>
<br>
<center>
<img src="../gallery/all.gif">
</center>
</td></tr>
</table>
<p><hr>
Markup created by <em>unroff</em> 1.0,&#160;<tt> </tt>&#160;<tt> </tt>January 08, 2002.
</body>
</html>
